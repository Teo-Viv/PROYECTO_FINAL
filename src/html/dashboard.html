<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SaludRural Conecta - Dashboard</title>
    <link rel="stylesheet" href="../css/dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="color-band-top"></div>
    
    <div id="app-container" class="app-container">
        
        <aside id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <div class="logo-wrapper-sidebar">
                    <h2 class="logo-text-sidebar">SaludRural</h2>
                    <span class="logo-firma-sidebar">Conecta</span>
                </div>
                <button id="toggle-sidebar" class="toggle-button" aria-label="Colapsar menú">
                    <i class="fas fa-chevron-left"></i>
                </button>
            </div>
            
            <nav class="nav-menu">
                <a href="#" class="nav-item active"><i class="fas fa-home"></i> <span class="nav-text">Inicio / Dashboard</span></a>
                <a href="#" class="nav-item"><i class="fas fa-file-alt"></i> <span class="nav-text">Nueva Encuesta</span></a>
                <a href="#" class="nav-item"><i class="fas fa-notes-medical"></i> <span class="nav-text">Historial Médico</span></a>
                <a href="#" class="nav-item"><i class="fas fa-user-check"></i> <span class="nav-text">Triage de Paciente</span></a>
                <a href="#" class="nav-item"><i class="fas fa-chart-line"></i> <span class="nav-text">Seguimiento de Avance</span></a>
                <a href="#" class="nav-item"><i class="fas fa-user-plus"></i> <span class="nav-text">Registrar Personal</span></a>
                <a href="#" class="nav-item"><i class="fas fa-map-marked-alt"></i> <span class="nav-text">Asignar Sector</span></a>
            </nav>
            
            <div class="user-profile-wrapper">
                <div class="user-profile">
                    <div class="profile-info">
                        <i class="fas fa-user-circle profile-picture-icon"></i>
                        <div class="profile-details">
                            <span class="profile-name">M. Rojas (Enc)</span>
                            <span class="profile-role">Encuestador MSP</span>
                        </div>
                    </div>
                </div>
                <a href="#" class="logout-button"><i class="fas fa-sign-out-alt"></i> <span class="nav-text">Cerrar Sesión</span></a>
            </div>
        </aside>

        <main class="main-content">
            <header class="page-header">
                <h1>Bienvenido al Dashboard de SaludRural Conecta</h1>
                <p>Resumen de actividad y acceso a módulos principales.</p>
            </header>
            
            <div class="top-content-grid">
                
                <div class="metrics-grid">
                    <div class="metric-card card danger-metric">
                        <i class="fas fa-exclamation-triangle"></i>
                        <div class="metric-details">
                            <span class="metric-value">5</span>
                            <span class="metric-label">Pacientes en RIESGO ALTO (Rojo)</span>
                        </div>
                    </div>
                    <div class="metric-card card warning-metric">
                        <i class="fas fa-exclamation"></i>
                        <div class="metric-details">
                            <span class="metric-value">12</span>
                            <span class="metric-label">Pacientes en RIESGO MEDIO (Amarillo)</span>
                        </div>
                    </div>
                    <div class="metric-card card primary-metric">
                        <i class="fas fa-users"></i>
                        <div class="metric-details">
                            <span class="metric-value">450</span>
                            <span class="metric-label">Total Población Censada</span>
                        </div>
                    </div>
                    <div class="metric-card card success-metric">
                        <i class="fas fa-map-pin"></i>
                        <div class="metric-details">
                            <span class="metric-value">15</span>
                            <span class="metric-label">Comunidades Asignadas</span>
                        </div>
                    </div>
                </div>

                <div class="announcements-carousel-container card">
                    <div class="carousel-track">
                        
                        <div class="carousel-slide slide-blue">
                            <i class="fas fa-tools"></i>
                            <div class="slide-content-wrapper">
                                <h3 class="slide-title">Mantenimiento de Plataforma</h3>
                                <p class="slide-subtitle">El sistema estará inactivo de 2:00 a 4:00 AM. Planifique sus encuestas.</p>
                            </div>
                        </div>

                        <div class="carousel-slide slide-green">
                            <i class="fas fa-syringe"></i>
                            <div class="slide-content-wrapper">
                                <h3 class="slide-title">Jornada de Vacunación Rural</h3>
                                <p class="slide-subtitle">Fecha: 05/11. Confirme la asistencia en la Comunidad El Cisne. ¡Prioridad Triage!</p>
                            </div>
                        </div>

                        <div class="carousel-slide slide-yellow">
                            <i class="fas fa-graduation-cap"></i>
                            <div class="slide-content-wrapper">
                                <h3 class="slide-title">Capacitación en Protocolos</h3>
                                <p class="slide-subtitle">Reunión obligatoria para personal MSP/MIESS sobre llenado de Historias. 30/10/2025.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
            
            <div class="announcements-written-section card">
                <h2 class="announcement-title"><i class="fas fa-list-alt"></i> Avisos Recientes de Protocolo y Logística</h2>
                <div class="announcement-content">
                    <p class="alert warning-alert"><strong>ALERTA URGENTE MSP:</strong> Se requiere completar un mínimo de 15 encuestas diarias en zonas de Triage Rojo. Vigencia: Noviembre 2025.</p>
                    <p class="alert info-alert"><strong>LOGÍSTICA:</strong> Recordatorio de cargar los dispositivos móviles antes de cada jornada de campo.</p>
                    <p class="alert info-alert"><strong>CAPACITACIÓN EPN:</strong> Próxima reunión de seguimiento de avances el 30/10/2025 (Ver correo para link de Zoom).</p>
                </div>
            </div>

            <h2 class="access-title"><i class="fas fa-clipboard-list"></i> Mis Asignaciones de Campo</h2>
            
            <div class="assignments-list-container card">
                
                <div class="assignments-list-header">
                    <div class="col-sector">SECTOR ASIGNADO</div>
                    <div class="col-canton">CANTÓN</div>
                    <div class="col-center">CENTRO DE SALUD</div>
                    <div class="col-status">PRIORIDAD</div>
                    <div class="col-actions">ACCIONES</div>
                </div>

                <div class="assignments-list-body">
                    
                    <div class="assignment-item danger-border">
                        <div class="col-sector"><strong>Comunidad El Cisne</strong> (Parroquia Pomasqui)</div>
                        <div class="col-canton">Quito</div>
                        <div class="col-center">CS Pomasqui</div>
                        <div class="col-status"><span class="status danger-bg">URGENTE (Alta Morbilidad)</span></div>
                        <div class="col-actions"><a href="#" class="button small-button primary-button"><i class="fas fa-pencil-alt"></i> Iniciar Encuesta</a></div>
                    </div>
                    
                    <div class="assignment-item warning-border">
                        <div class="col-sector"><strong>Barrio San Juan</strong> (Parroquia Calderón)</div>
                        <div class="col-canton">Quito</div>
                        <div class="col-center">CS Calderón</div>
                        <div class="col-status"><span class="status warning-bg">MEDIA (Seguimiento)</span></div>
                        <div class="col-actions"><a href="#" class="button small-button secondary-button"><i class="fas fa-pencil-alt"></i> Iniciar Encuesta</a></div>
                    </div>
                    
                    <div class="assignment-item success-border">
                        <div class="col-sector"><strong>Comuna La Merced</strong> (Parroquia Tababela)</div>
                        <div class="col-canton">Quito</div>
                        <div class="col-center">CS Tababela</div>
                        <div class="col-status"><span class="status success-bg">BAJA (Censo Inicial)</span></div>
                        <div class="col-actions"><a href="#" class="button small-button secondary-button"><i class="fas fa-pencil-alt"></i> Iniciar Encuesta</a></div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Colapso del Sidebar
            const appContainer = document.getElementById('app-container');
            const toggleButton = document.getElementById('toggle-sidebar');
            
            toggleButton.addEventListener('click', function() {
                appContainer.classList.toggle('sidebar-collapsed');
                const icon = this.querySelector('i');
                if (appContainer.classList.contains('sidebar-collapsed')) {
                    icon.classList.replace('fa-chevron-left', 'fa-chevron-right');
                } else {
                    icon.classList.replace('fa-chevron-right', 'fa-chevron-left');
                }
            });

            // SIMULACIÓN DE CARRUSEL
            const track = document.querySelector('.carousel-track');
            const slides = document.querySelectorAll('.carousel-slide');
            let currentIndex = 0;

            function moveToNextSlide() {
                currentIndex = (currentIndex + 1) % slides.length;
                const offset = -currentIndex * 100;
                track.style.transform = `translateX(${offset}%)`;
            }

            // Simulación de auto-avance cada 5 segundos
            setInterval(moveToNextSlide, 5000);
        });
    </script>
</body>
</html>